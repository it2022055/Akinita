<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{page_layout/layout}">

<head>
    <meta charset="UTF-8">
    <title>Akinita</title>
    <link th:href="@{/css/index.css}" rel="stylesheet">
    <script th:src="@{/js/search_sliders.js}"></script>

</head>

<body>
<div layout:fragment="main-content" class="container">
    <div th:if="${isError}">
        <p th:text="${error}" style="color: red;"></p>
    </div>
    <form class="form" th:action="@{/Service/searchProperties}" method="get">
        <!-- Location and Property Type in the same row -->
        <div class="field-row">
            <div class="field">
                <label>Location</label>
                <input autocomplete="off" placeholder="Location" class="input-field" type="text" name="location">
            </div>
            <div class="field">
                <label for="propertyType">Property Type:</label>
                <select id="propertyType" name="propertyType">
                    <option value="All">All</option>
                    <option value="CommercialProperty">Commercial Property</option>
                    <option value="Parking">Parking</option>
                    <option value="Land">Land</option>
                    <option value="House">House</option>
                </select>
            </div>
        </div>

        <!-- Checkbox to show extra fields based on property type -->
        <div class="field">
            <label for="showExtraFields">
                <input type="checkbox" id="showExtraFields"> Show extra options based on property type
            </label>
        </div>

        <!-- Dynamic Fields Based on Property Type (Initially Hidden) -->
        <div id="dynamicFields">
            <!-- Price Range Fields -->
            <div class="field">
                <label for="minPrice">Min Price</label>
                <input type="number" id="minPrice" name="minPrice" placeholder="Min Price" min="1" max="10000000" value="1">
            </div>
            <div class="field">
                <label for="maxPrice">Max Price</label>
                <input type="number" id="maxPrice" name="maxPrice" placeholder="Max Price" min="1" max="10000000" value="10000000">
            </div>
            <div class="field">
                <label for="priceSlider">Price Range:</label>
                <input type="range" id="priceSlider" name="priceRange" min="0" max="10000000" step="1000" value="0">
                <output for="priceSlider" id="priceDisplay">€0</output>
            </div>

            <!-- Square Meter Fields -->
            <div class="field">
                <label for="minSize">Min Size (sq meters)</label>
                <input type="number" id="minSize" name="minSize" placeholder="Min Size" min="1" max="50000" value="1">
            </div>
            <div class="field">
                <label for="maxSize">Max Size (sq meters)</label>
                <input type="number" id="maxSize" name="maxSize" placeholder="Max Size" min="1" max="50000" value="50000">
            </div>
            <div class="field">
                <label for="sizeSlider">Size Range:</label>
                <input type="range" id="sizeSlider" name="sizeRange" min="1" max="50000" step="1" value="1">
                <output for="sizeSlider" id="sizeDisplay">1 m²</output>
            </div>

            <!-- Building Fees -->
            <div class="field" id="buildingFeesField" style="display:none;">
                <label for="buildingFees">Building Fees</label>
                <input type="checkbox" id="buildingFees" name="buildingFees" value="Yes">
            </div>

            <!-- Construction Date  -->
            <div class="field" id="constructionDateField" style="display:none;">
                <label for="constructionDate">Construction Date</label>
                <input type="date" id="constructionDate" name="constructionDate" value="1000-02-10">
            </div>
        </div>

        <button type="submit" class="button1">Search</button>
    </form>
</div>
</body>

</html>
