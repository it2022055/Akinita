<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{page_layout/layout}">

<head>
    <meta charset="UTF-8">
    <title>Submit new property</title>
    <link th:href="@{/css/submitProperty.css}" rel="stylesheet">
    <script>
        function toggleSharedExpenses() {
            const propertyType = document.querySelector('select[name="propertyType"]').value;
            const sharedExpensesField = document.getElementById('shared-expenses-field');
            const form = document.querySelector('.form'); // Το κύριο form

            if (propertyType === "Parking") {
                sharedExpensesField.style.display = "block";
                form.classList.remove('default-form'); // Αφαιρεί την αρχική εμφάνιση
                form.classList.add('parking-form'); // Προσθέτει την εμφάνιση για "Parking"
            } else {
                sharedExpensesField.style.display = "none"; // Απόκρυψη του shared-expenses-field
                form.classList.remove('parking-form'); // Αφαιρεί την εμφάνιση για "Parking"
                form.classList.add('default-form');  // Επαναφέρει την αρχική εμφάνιση
            }
        }
    </script>
</head>
<body>
<div layout:fragment="main-content">
    <form class="form default-form" th:action="@{/Owner/submitNewProperty}" method="post">
        <div class="field">
            <p id="heading">Property Submission</p>
            <label>
                <input autocomplete="off" placeholder="Estate Name" name="estateName" class="input-field" type="text">
            </label>
        </div>
        <div class="field">
            <label>
                <input autocomplete="off" placeholder="Location"  name="location"  class="input-field" type="text">
            </label>
        </div>
        <div class="field">
            <label>
                <input autocomplete="off" placeholder="Price" name="price" class="input-field"  type="number">
            </label>
        </div>
        <div class="field">
            <label>
                <input autocomplete="off" placeholder="Description" name="description"  class="input-field" type="text">
            </label>
        </div>
        <div class="field">
            <label>
                <input autocomplete="off" placeholder="Square meters" name="SqMeters" class="input-field" type="number">
            </label>
        </div>

        <div class="rolefield">
            <p>Property Type:</p>
            <select class="roleddlist" name="propertyType" onchange="toggleSharedExpenses()">
                <option value="House">House</option>
                <option value="CommercialProperty">Commercial Property</option>
                <option value="Parking">Parking</option>
                <option value="Land">Land</option>
            </select>
        </div>


        <div class="container_field" id="shared-expenses-field" style="display: none;">

            <div class="date-field">
            <span class="checkbox-text" style="font-weight: 500;">Construction Date</span>
            <input  autocomplete="off" type="date" id="constructionDate" name="constructionDate" value="2004-02-10">
            </div>
            <div class="extra-field">
                <label class="container">
                    <span class="checkbox-text" >Shared Expenses:</span>
                    <input type="checkbox" name="SHAREDEXPENSES" autocomplete="off">
                    <svg viewBox="0 0 64 64" height="2em" width="2em">
                        <path d="M 0 16 V 56 A 8 8 90 0 0 8 64 H 56 A 8 8 90 0 0 64 56 V 8 A 8 8 90 0 0 56 0 H 8 A 8 8 90 0 0 0 8 V 16 L 32 48 L 64 16 V 8 A 8 8 90 0 0 56 0 H 8 A 8 8 90 0 0 0 8 V 56 A 8 8 90 0 0 8 64 H 56 A 8 8 90 0 0 64 56 V 16" pathLength="575.0541381835938" class="path"></path>
                    </svg>
                </label>
                <div class="rolefield">
                    <p>ENERGY CLASS:</p>
                    <select class="roleddlist" name="ENERGYCLASS">
                        <option value="Apls">A+</option>
                        <option value="A">A</option>
                        <option value="Bpls">B+</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="Z">Z</option>
                        <option value="H">H</option>
                    </select>
                </div>
            </div>
        </div>
        <button class="button3">Submit</button>
    </form>
</div>
</body>

</html>
